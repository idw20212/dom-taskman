<!DOCTYPE html>
<html lang="pt-br">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manipulação do DOM</title>
    <script>
      /**
       * Um vetor com a lista das tarefas.
       */
       var tarefas = [
        {
          id: 1,
          titulo: "Tomar água",
          dataDeTermino: new Date(2021, 7, 14),
          estahConcluida: false,
        },
        {
          id: 2,
          titulo: "Escrever introdução do TCC",
          dataDeTermino: new Date(2021, 7, 20),
          estahConcluida: false,
        },
        {
          id: 3,
          titulo: "Concluir tarefa de IDW",
          dataDeTermino: new Date(2021, 7, 30),
          estahConcluida: true,
        },
      ];

      /**
       * Método que apresenta a lista das tarefas.
       */
       function apresentarTarefas() {
        var tbody = document.getElementById('tbodyTarefas');
        for (var tarefa of tarefas) {
          var tr = document.createElement('tr');
          tr.setAttribute('id', `rowTarefas-${tarefa.id}`);
          if (tarefa.estahConcluida) {
            tr.style.backgroundColor = 'lightgreen';
          }
          var tdId = document.createElement('td');
          tdId.innerHTML = tarefa.id;
          var tdTitulo = document.createElement('td');
          if (tarefa.estahConcluida) {
            var stTitulo = document.createElement('strike');
            stTitulo.innerHTML = tarefa.titulo;
            tdTitulo.appendChild(stTitulo);
          } else {
            tdTitulo.innerHTML = tarefa.titulo;
          }
          var tdTermino = document.createElement('td');
          tdTermino.innerHTML = tarefa.dataDeTermino;
          var tdConcluir = document.createElement('td');
          tr.appendChild(tdId);
          tr.appendChild(tdTitulo);
          tr.appendChild(tdTermino);
          tbody.appendChild(tr);
        }
      }

      /**
       * Tratador do evento DOMContentLoaded para o document.
       */
      function documentLoad() {
        apresentarTarefas();
      }

      /**
       * Define o tratador do evento DOMContentLoaded do document.
       */
      document.addEventListener('DOMContentLoaded', documentLoad);
    </script>
  </head>

  <body>
    <div id="app">
      <h1 id="title">Gerenciador de tarefas</h1>
      <h4 id="subtitle">Demonstração de recursos de manipulação do DOM com JavaScript</h4>
      <hr>
      <table id="tableTarefas" border="1">
        <thead>
          <tr>
            <th>Id</th>
            <th>Tarefa</th>
            <th>Conclusão</th>
          </tr>
        </thead>
        <tbody id="tbodyTarefas">
        </tbody>
      </table>
    </div>
  </body>

</html>